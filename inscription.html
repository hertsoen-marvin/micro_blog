<!DOCTYPE html>
<script type='text/javascript'>

  $(document).ready(function(){

    $('input').keypress(function(e){
          $(this).next("div .alert").remove();
          $(this).parent().removeClass('has-error') //div.has-error
    })

    $('#btn').click(function(e){
  //    $('form').submit(false);    /*  e.preventDefault(); */
       event.preventDefault();
      var form_valid = true;

        /******************** Dès qu'on appuie sur le bouton, on retire toutes les erreurs *************************/
      $(".alert").remove();
      $('.has-error').removeClass('has-error') //div.has-error

        /******************** On recherche dans tous les inputs des champs vides  *************************/
      $('input[type="text"], input[type="password"], input[type="email"]').each(function(){

        // Gestion des champs vides
        if (!$(this).val()){
          form_valid=false;
          $(this).parent('div').addClass("has-error");
          $(this).after("<div class='alert alert-danger'><strong>"+ $(this).attr('desc') +" est vide.</strong></div>");
          $('.alert').hide().slideDown('fast');
        }
      });

      /******************** On recherche dans tous les inputs des champs vides  *************************/
      if($('#input_password1').val() != $('#input_password2').val() && form_valid == true){ // Si les 2 champs mdp sont différents et que les champs sont tous remplis
        $('#input_password2').after("<div class='alert alert-danger'><strong> Les mots de passes ne correspondent pas.</strong></div>");
        form_valid=false;
      }


      if(form_valid){
        $('form').submit();
        return true;
        console.log('enter');
      }
    });

  });

</script>

<!-- Header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-text">
                        <span class="name">{$intitule}</span>
                        <hr class="star-light">
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!-- Connexion Section -->
    <section>
    <!--  <h1 style='color: red'>Ma vue html smarty </h1> -->

    	<div class="container ce">
    		<div class="row">

    			<form class="col-md-4 col-md-offset-4" action="inscription.php" method="POST">	<!-- on centre le bloc formulaire -->
    				<!--<div class="col-sm-3">  -->

            <div class="login-panel panel panel-default">
                <div class="panel-heading"> Complétez les champs requis :
                </div>

                <div class="panel-body">
                  <div class="form-group">
                    <label> Adresse e-mail : </label>
        						<input type="email" class="form-control" value={$value_mail} id="input_email" name="input_email" desc="l'Email" aria-describedby="emailHelp" placeholder="nom@exemple.com">
                  </div>
                  <div class="form-group">
        						<label> Mot de passe : </label>
        						<input type="password" class="form-control" {$value_pass1} id="input_password1" name="input_password1" desc="Le mot de passe" placeholder='Entrez le mot de passe' >
        					</div>
                  <div class="form-group">
        						<label> Mot de passe : </label>
        						<input type="password" class="form-control" {$value_pass2} id="input_password2" name="input_password2" desc="La confirmation" placeholder='Confirmez le mote de passe' >
        					</div>
                  <div class="form-group">
        						<button type="submit" id='btn' class="btn btn-primary pull-right">S'inscrire</button>
        				  </div>
                </div>
            </div>
    			</form>

    		</div>
    	</div>
    </section>
